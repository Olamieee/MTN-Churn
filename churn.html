<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MTN Customer Churn Predictor</title>

<style>
    :root {
        --mtn-yellow: #ffcb05;
        --mtn-black: #000000;
        --dark-bg: #0a0a0a;
        --input-bg: #1a1a1a;
        --text-light: #ffffff;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", sans-serif;
    }

    body {
        background: var(--dark-bg);
        color: var(--text-light);
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    header {
        width: 100%;
        padding: 18px 0;
        text-align: center;
        background: var(--mtn-yellow);
        color: var(--mtn-black);
        font-size: 30px;
        font-weight: 700;
        letter-spacing: 1px;
    }

    .container {
        margin-top: 25px;
        width: 90%;
        max-width: 750px;
        background: var(--mtn-black);
        border-radius: 16px;
        padding: 28px;
        box-shadow: 0px 0px 40px rgba(255, 203, 5, 0.2);
        animation: fadeIn 0.7s ease-in-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(25px); }
        to { opacity: 1; transform: translateY(0); }
    }

    label {
        margin-top: 16px;
        font-weight: 600;
        display: block;
    }

    select, input {
        width: 100%;
        padding: 12px;
        margin-top: 6px;
        border-radius: 10px;
        border: none;
        outline: none;
        background: var(--input-bg);
        color: white;
        font-size: 15px;
        transition: transform 0.15s ease;
    }

    select:focus, input:focus {
        transform: scale(1.03);
        border: 2px solid var(--mtn-yellow);
    }

    button {
        margin-top: 28px;
        width: 100%;
        padding: 14px;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        font-size: 18px;
        font-weight: bold;
        background: var(--mtn-yellow);
        color: var(--mtn-black);
        transition: 0.3s ease;
    }

    button:hover {
        transform: scale(1.04);
        box-shadow: 0px 0px 18px rgba(255, 203, 5, 0.6);
    }

    #result {
        margin-top: 25px;
        padding: 16px;
        border-radius: 12px;
        font-weight: bold;
        text-align: center;
        font-size: 20px;
    }

    @media (max-width: 600px) {
        header {
            font-size: 22px;
        }

        .container {
            padding: 18px;
        }

        button {
            font-size: 16px;
        }
    }
</style>
</head>

<body>

<header>MTN Customer Churn Predictor</header>

<div class="container">
    <form id="churnForm">

        <label>Date of Purchase</label>
        <select id="date_of_purchase">
            <option value="Jan-25">Jan-25</option>
            <option value="Feb-25">Feb-25</option>
            <option value="Mar-25">Mar-25</option>
        </select>

        <label>Age</label>
        <input type="number" id="age">

        <label>State</label>
        <select id="state">
            <option value="Abuja (FCT)">Abuja (FCT)</option>
            <option value="Lagos">Lagos</option>
            <option value="Kano">Kano</option>
            <option value="Oyo">Oyo</option>
            <option value="Rivers">Rivers</option>
            <option value="Kwara">Kwara</option>
            <option value="Sokoto">Sokoto</option>
        </select>

        <label>MTN Device</label>
        <select id="device">
            <option value="Mobile SIM Card">Mobile SIM Card</option>
            <option value="Broadband MiFi">Broadband MiFi</option>
            <option value="4G Router">4G Router</option>
            <option value="5G Broadband Router">5G Broadband Router</option>
        </select>

        <label>Gender</label>
        <select id="gender">
            <option>Male</option>
            <option>Female</option>
        </select>

        <label>Satisfaction Rate (1 - 5)</label>
        <input type="number" id="satisfaction" min="1" max="5">

        <label>Customer Review</label>
        <select id="review">
            <option>Poor</option>
            <option>Fair</option>
            <option>Good</option>
            <option>Excellent</option>
        </select>

        <label>Customer Tenure (months)</label>
        <input type="number" id="tenure">

        <label>Subscription Plan</label>
        <select id="plan">
            <option>165GB Monthly Plan</option>
            <option>1GB+1.5mins Daily Plan</option>
            <option>30GB Monthly Broadband Plan</option>
            <option>200GB Monthly Plan</option>
            <option>Weekly 10GB Plan</option>
        </select>

        <label>Unit Price</label>
        <input type="number" id="unit_price">

        <label>Number of Times Purchased</label>
        <input type="number" id="num_purchased">

        <label>Total Revenue</label>
        <input type="number" id="revenue">

        <label>Data Usage (GB)</label>
        <input type="number" step="0.01" id="data_usage">

        <button type="submit">Predict Churn</button>
    </form>

    <h3 id="result"></h3>
</div>

<script>
document.getElementById("churnForm").addEventListener("submit", async function(e){
    e.preventDefault();

    const features = [
        document.getElementById("date_of_purchase").value,
        parseInt(document.getElementById("age").value),
        document.getElementById("state").value,
        document.getElementById("device").value,
        document.getElementById("gender").value,
        parseInt(document.getElementById("satisfaction").value),
        document.getElementById("review").value,
        parseInt(document.getElementById("tenure").value),
        document.getElementById("plan").value,
        parseFloat(document.getElementById("unit_price").value),
        parseInt(document.getElementById("num_purchased").value),
        parseFloat(document.getElementById("revenue").value),
        parseFloat(document.getElementById("data_usage").value)
    ];

    const response = await fetch("/predict", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({"features": features})
    });

    const result = await response.json();

    let outputBox = document.getElementById("result");
    outputBox.style.background = result.prediction === 1 ? "#ff3b3b" : "#00c853";
    outputBox.innerText =
        result.prediction === 1
        ? "⚠ Customer is likely to churn"
        : "✅ Customer will likely stay";
});
</script>

</body>
</html>
